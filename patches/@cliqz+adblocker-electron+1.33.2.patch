diff --git a/node_modules/@cliqz/adblocker-electron/dist/adblocker.umd.min.js b/node_modules/@cliqz/adblocker-electron/dist/adblocker.umd.min.js
index 734a931..570cae6 100644
--- a/node_modules/@cliqz/adblocker-electron/dist/adblocker.umd.min.js
+++ b/node_modules/@cliqz/adblocker-electron/dist/adblocker.umd.min.js
@@ -1,2 +1,2 @@
-!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("electron"),require("tldts-experimental"),require("@cliqz/adblocker"),require("node:module")):"function"==typeof define&&define.amd?define(["exports","electron","tldts-experimental","@cliqz/adblocker","node:module"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).adblocker={},e.electron,e.tldtsExperimental,e.adblocker,e.node_module)}(this,(function(e,t,s,r,o){"use strict";var i="undefined"!=typeof document?document.currentScript:null;function n(e){var t=Object.create(null);return e&&Object.keys(e).forEach((function(s){if("default"!==s){var r=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(t,s,r.get?r:{enumerable:!0,get:function(){return e[s]}})}})),t.default=e,Object.freeze(t)}var l=n(t);const c=o.createRequire("undefined"==typeof document&&"undefined"==typeof location?require("url").pathToFileURL(__filename).href:"undefined"==typeof document?location.href:i&&i.src||new URL("adblocker.umd.min.js",document.baseURI).href).resolve("@cliqz/adblocker-electron-preload"),{ipcMain:d}=l;function a(e){const{id:t,url:s,resourceType:o,referrer:i,webContentsId:n}=e;return r.Request.fromRawDetails(n?{_originalRequestDetails:e,requestId:`${t}`,sourceUrl:i,tabId:n,type:o||"other",url:s}:{_originalRequestDetails:e,requestId:`${t}`,sourceUrl:i,type:o||"other",url:s})}process.env.ELECTRON_DISABLE_SECURITY_WARNINGS="true";class u{constructor(e,t){this.session=e,this.blocker=t,this.onBeforeRequest=(e,s)=>t.onBeforeRequest(e,s),this.onGetCosmeticFiltersFirst=(e,s)=>t.onGetCosmeticFiltersFirst(e,s),this.onGetCosmeticFiltersUpdated=(e,s,r)=>t.onGetCosmeticFiltersUpdated(e,s,r),this.onHeadersReceived=(e,s)=>t.onHeadersReceived(e,s),this.onIsMutationObserverEnabled=e=>t.onIsMutationObserverEnabled(e)}enable(){!0===this.blocker.config.loadCosmeticFilters&&(this.session.setPreloads(this.session.getPreloads().concat([c])),d.on("get-cosmetic-filters-first",this.onGetCosmeticFiltersFirst),d.on("get-cosmetic-filters",this.onGetCosmeticFiltersUpdated),d.on("is-mutation-observer-enabled",this.onIsMutationObserverEnabled)),!0===this.blocker.config.loadNetworkFilters&&(this.session.webRequest.onHeadersReceived({urls:["<all_urls>"]},this.onHeadersReceived),this.session.webRequest.onBeforeRequest({urls:["<all_urls>"]},this.onBeforeRequest))}disable(){!0===this.blocker.config.loadNetworkFilters&&(this.session.webRequest.onHeadersReceived(null),this.session.webRequest.onBeforeRequest(null)),!0===this.blocker.config.loadCosmeticFilters&&(this.session.setPreloads(this.session.getPreloads().filter((e=>e!==c))),d.removeListener("get-cosmetic-filters",this.onGetCosmeticFiltersUpdated))}}class f extends r.FiltersEngine{constructor(){super(...arguments),this.contexts=new WeakMap,this.onIsMutationObserverEnabled=e=>{e.returnValue=this.config.enableMutationObserver},this.onGetCosmeticFiltersFirst=(e,t)=>{const r=s.parse(t),o=r.hostname||"",i=r.domain||"",{active:n,styles:l,scripts:c,extended:d}=this.getCosmeticsFilters({domain:i,hostname:o,url:t,getBaseRules:!0,getInjectionRules:!0,getExtendedRules:!0,getRulesFromHostname:!0,getRulesFromDOM:!1,callerContext:{frameId:e.frameId,processId:e.processId}});!1!==n?(this.injectStyles(e.sender,l),e.sender.send("get-cosmetic-filters-response",{active:n,extended:d,styles:""}),e.returnValue=c):e.returnValue=null},this.onGetCosmeticFiltersUpdated=(e,t,r)=>{const o=s.parse(t),i=o.hostname||"",n=o.domain||"",{active:l,styles:c,extended:d}=this.getCosmeticsFilters({domain:n,hostname:i,url:t,classes:r.classes,hrefs:r.hrefs,ids:r.ids,getBaseRules:!1,getInjectionRules:!1,getExtendedRules:!1,getRulesFromHostname:!1,getRulesFromDOM:!0,callerContext:{frameId:e.frameId,processId:e.processId,lifecycle:r.lifecycle}});!1!==l&&(this.injectStyles(e.sender,c),e.sender.send("get-cosmetic-filters-response",{active:l,extended:d,styles:""}))},this.onHeadersReceived=(e,t)=>{const s="content-security-policy",r=[],o=e.responseHeaders||{};if("mainFrame"===e.resourceType||"subFrame"===e.resourceType){const i=this.getCSPDirectives(a(e));if(void 0!==i){r.push(...i.split(";").map((e=>e.trim())));for(const[e,t]of Object.entries(o))e.toLowerCase()===s&&(r.push(...t),delete o[e]);return o[s]=[r.join(";")],void t({responseHeaders:o})}}t({})},this.onBeforeRequest=(e,t)=>{const s=a(e);if(!0===this.config.guessRequestTypeFromUrl&&"other"===s.type&&s.guessTypeOfRequest(),s.isMainFrame())return void t({});const{redirect:r,match:o}=this.match(s);t(r?{redirectURL:r.dataUrl}:o?{cancel:!0}:{})}}enableBlockingInSession(e){let t=this.contexts.get(e);return void 0!==t||(t=new u(e,this),this.contexts.set(e,t),t.enable()),t}disableBlockingInSession(e){const t=this.contexts.get(e);if(void 0===t)throw new Error("Trying to disable blocking which was not enabled");this.contexts.delete(e),t.disable()}isBlockingEnabled(e){return this.contexts.has(e)}injectStyles(e,t){t.length>0&&e.insertCSS(t,{cssOrigin:"user"})}}e.BlockingContext=u,e.ElectronBlocker=f,e.fromElectronDetails=a,Object.keys(r).forEach((function(t){"default"===t||Object.prototype.hasOwnProperty.call(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})}))}));
+!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("electron"),require("tldts-experimental"),require("@cliqz/adblocker"),require("node:module")):"function"==typeof define&&define.amd?define(["exports","electron","tldts-experimental","@cliqz/adblocker","node:module"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).adblocker={},e.electron,e.tldtsExperimental,e.adblocker,e.node_module)}(this,(function(e,t,s,r,o){"use strict";var i="undefined"!=typeof document?document.currentScript:null;function n(e){var t=Object.create(null);return e&&Object.keys(e).forEach((function(s){if("default"!==s){var r=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(t,s,r.get?r:{enumerable:!0,get:function(){return e[s]}})}})),t.default=e,Object.freeze(t)}var l=n(t);const c=o.createRequire("undefined"==typeof document&&"undefined"==typeof location?require("url").pathToFileURL(__filename).href:"undefined"==typeof document?location.href:i&&i.src||new URL("adblocker.umd.min.js",document.baseURI).href).resolve("@cliqz/adblocker-electron-preload"),{ipcMain:a}=l;function d(e){const{id:t,url:s,resourceType:o,referrer:i,webContentsId:n}=e;return r.Request.fromRawDetails(n?{_originalRequestDetails:e,requestId:`${t}`,sourceUrl:i,tabId:n,type:o||"other",url:s}:{_originalRequestDetails:e,requestId:`${t}`,sourceUrl:i,type:o||"other",url:s})}process.env.ELECTRON_DISABLE_SECURITY_WARNINGS="true";class u{constructor(e,t){this.session=e,this.blocker=t,this.onBeforeRequest=(e,s)=>t.onBeforeRequest(e,s),this.onInjectCosmeticFilters=(e,s,r)=>t.onInjectCosmeticFilters(e,s,r),this.onHeadersReceived=(e,s)=>t.onHeadersReceived(e,s),this.onIsMutationObserverEnabled=e=>t.onIsMutationObserverEnabled(e)}enable(){!0===this.blocker.config.loadCosmeticFilters&&(this.session.setPreloads(this.session.getPreloads().concat([c])),a.handle("@ghostery/adblocker/inject-cosmetic-filters",this.onInjectCosmeticFilters),a.handle("@ghostery/adblocker/is-mutation-observer-enabled",this.onIsMutationObserverEnabled)),!0===this.blocker.config.loadNetworkFilters&&(this.session.webRequest.onHeadersReceived({urls:["<all_urls>"]},this.onHeadersReceived),this.session.webRequest.onBeforeRequest({urls:["<all_urls>"]},this.onBeforeRequest))}disable(){!0===this.blocker.config.loadNetworkFilters&&(this.session.webRequest.onHeadersReceived(null),this.session.webRequest.onBeforeRequest(null)),!0===this.blocker.config.loadCosmeticFilters&&(this.session.setPreloads(this.session.getPreloads().filter((e=>e!==c))),a.removeHandler("@ghostery/adblocker/inject-cosmetic-filters"),a.removeHandler("@ghostery/adblocker/is-mutation-observer-enabled"))}}class f extends r.FiltersEngine{constructor(){super(...arguments),this.contexts=new WeakMap,this.onIsMutationObserverEnabled=async e=>this.config.enableMutationObserver,this.onInjectCosmeticFilters=async(e,t,r)=>{const o=s.parse(t),i=o.hostname||"",n=o.domain||"",l=void 0===r,{active:c,styles:a,scripts:d}=this.getCosmeticsFilters({domain:n,hostname:i,url:t,classes:null==r?void 0:r.classes,hrefs:null==r?void 0:r.hrefs,ids:null==r?void 0:r.ids,getBaseRules:l,getInjectionRules:l,getExtendedRules:l,getRulesFromHostname:l,getRulesFromDOM:!l,callerContext:{frameId:e.frameId,processId:e.processId,lifecycle:null==r?void 0:r.lifecycle}});if(!1===c)return{active:!1};if(a.length>0)try{await e.sender.insertCSS(a,{cssOrigin:"user"})}catch(e){return{active:!1,error:`CSS insertion failed: ${String(e)}`}}const u=(await Promise.allSettled(d.map((t=>e.sender.executeJavaScript(t,!0))))).filter((e=>"rejected"===e.status)).map((e=>e.reason));return u.length>0?{active:!0,error:`Some scripts failed to execute: ${u.join(", ")}`}:{active:!0}},this.onHeadersReceived=(e,t)=>{const s="content-security-policy",r=[],o=e.responseHeaders||{};if("mainFrame"===e.resourceType||"subFrame"===e.resourceType){const i=this.getCSPDirectives(d(e));if(void 0!==i){r.push(...i.split(";").map((e=>e.trim())));for(const[e,t]of Object.entries(o))e.toLowerCase()===s&&(r.push(...t),delete o[e]);return o[s]=[r.join(";")],void t({responseHeaders:o})}}t({})},this.onBeforeRequest=(e,t)=>{const s=d(e);if(!0===this.config.guessRequestTypeFromUrl&&"other"===s.type&&s.guessTypeOfRequest(),s.isMainFrame())return void t({});const{redirect:r,match:o}=this.match(s);t(r?{redirectURL:r.dataUrl}:o?{cancel:!0}:{})}}enableBlockingInSession(e){let t=this.contexts.get(e);return void 0!==t||(t=new u(e,this),this.contexts.set(e,t),t.enable()),t}disableBlockingInSession(e){const t=this.contexts.get(e);if(void 0===t)throw new Error("Trying to disable blocking which was not enabled");this.contexts.delete(e),t.disable()}isBlockingEnabled(e){return this.contexts.has(e)}}e.BlockingContext=u,e.ElectronBlocker=f,e.fromElectronDetails=d,Object.keys(r).forEach((function(t){"default"===t||Object.prototype.hasOwnProperty.call(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})}))}));
 //# sourceMappingURL=adblocker.umd.min.js.map
diff --git a/node_modules/@cliqz/adblocker-electron/dist/adblocker.umd.min.js.map b/node_modules/@cliqz/adblocker-electron/dist/adblocker.umd.min.js.map
index 05dac50..129b5ae 100644
--- a/node_modules/@cliqz/adblocker-electron/dist/adblocker.umd.min.js.map
+++ b/node_modules/@cliqz/adblocker-electron/dist/adblocker.umd.min.js.map
@@ -1 +1 @@
-{"version":3,"file":"adblocker.umd.min.js","sources":["esm/preload_path.js","esm/index.js"],"sourcesContent":["import { createRequire } from 'node:module';\n//@ts-ignore\nexport const PRELOAD_PATH = createRequire(import.meta.url).resolve('@cliqz/adblocker-electron-preload');\n//# sourceMappingURL=preload_path.js.map","/*!\n * Copyright (c) 2017-present Ghostery GmbH. All rights reserved.\n *\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/.\n */\nimport * as electron from 'electron';\nimport { parse } from 'tldts-experimental';\nimport { FiltersEngine, Request } from '@cliqz/adblocker';\nimport { PRELOAD_PATH } from './preload_path.js';\nconst { ipcMain } = electron;\n// https://stackoverflow.com/questions/48854265/why-do-i-see-an-electron-security-warning-after-updating-my-electron-project-t\nprocess.env['ELECTRON_DISABLE_SECURITY_WARNINGS'] = 'true';\n/**\n * Create an instance of `Request` from `Electron.OnBeforeRequestDetails`.\n */\nexport function fromElectronDetails(details) {\n    const { id, url, resourceType, referrer, webContentsId } = details;\n    return Request.fromRawDetails(webContentsId\n        ? {\n            _originalRequestDetails: details,\n            requestId: `${id}`,\n            sourceUrl: referrer,\n            tabId: webContentsId,\n            type: (resourceType || 'other'),\n            url,\n        }\n        : {\n            _originalRequestDetails: details,\n            requestId: `${id}`,\n            sourceUrl: referrer,\n            type: (resourceType || 'other'),\n            url,\n        });\n}\n/**\n * This abstraction takes care of blocking in one instance of `Electron.Session`.\n */\nexport class BlockingContext {\n    constructor(session, blocker) {\n        this.session = session;\n        this.blocker = blocker;\n        this.onBeforeRequest = (details, callback) => blocker.onBeforeRequest(details, callback);\n        this.onGetCosmeticFiltersFirst = (event, url) => blocker.onGetCosmeticFiltersFirst(event, url);\n        this.onGetCosmeticFiltersUpdated = (event, url, msg) => blocker.onGetCosmeticFiltersUpdated(event, url, msg);\n        this.onHeadersReceived = (details, callback) => blocker.onHeadersReceived(details, callback);\n        this.onIsMutationObserverEnabled = (event) => blocker.onIsMutationObserverEnabled(event);\n    }\n    enable() {\n        if (this.blocker.config.loadCosmeticFilters === true) {\n            this.session.setPreloads(this.session.getPreloads().concat([PRELOAD_PATH]));\n            ipcMain.on('get-cosmetic-filters-first', this.onGetCosmeticFiltersFirst);\n            ipcMain.on('get-cosmetic-filters', this.onGetCosmeticFiltersUpdated);\n            ipcMain.on('is-mutation-observer-enabled', this.onIsMutationObserverEnabled);\n        }\n        if (this.blocker.config.loadNetworkFilters === true) {\n            this.session.webRequest.onHeadersReceived({ urls: ['<all_urls>'] }, this.onHeadersReceived);\n            this.session.webRequest.onBeforeRequest({ urls: ['<all_urls>'] }, this.onBeforeRequest);\n        }\n    }\n    disable() {\n        if (this.blocker.config.loadNetworkFilters === true) {\n            // NOTE - there is currently no support in Electron for multiple\n            // webRequest listeners registered for the same event. This means that\n            // adblocker's listeners can be overriden by other ones in the same\n            // application (or that the adblocker can override another listener\n            // registered previously). Because of this, the only way to disable the\n            // adblocker is to remove all listeners for the events we are interested\n            // in. In the future, we should consider implementing a webRequest\n            // pipeline allowing to register multiple listeners for the same event.\n            this.session.webRequest.onHeadersReceived(null);\n            this.session.webRequest.onBeforeRequest(null);\n        }\n        if (this.blocker.config.loadCosmeticFilters === true) {\n            this.session.setPreloads(this.session.getPreloads().filter((p) => p !== PRELOAD_PATH));\n            ipcMain.removeListener('get-cosmetic-filters', this.onGetCosmeticFiltersUpdated);\n        }\n    }\n}\n/**\n * Wrap `FiltersEngine` into a Electron-friendly helper class. It exposes\n * methods to interface with Electron APIs needed to block ads.\n */\nexport class ElectronBlocker extends FiltersEngine {\n    constructor() {\n        super(...arguments);\n        this.contexts = new WeakMap();\n        // ----------------------------------------------------------------------- //\n        // ElectronBlocker-specific additions to FiltersEngine\n        // ----------------------------------------------------------------------- //\n        this.onIsMutationObserverEnabled = (event) => {\n            event.returnValue = this.config.enableMutationObserver;\n        };\n        this.onGetCosmeticFiltersFirst = (event, url) => {\n            // Extract hostname from sender's URL\n            const parsed = parse(url);\n            const hostname = parsed.hostname || '';\n            const domain = parsed.domain || '';\n            const { active, styles, scripts, extended } = this.getCosmeticsFilters({\n                domain,\n                hostname,\n                url,\n                // This needs to be done only once per frame\n                getBaseRules: true,\n                getInjectionRules: true,\n                getExtendedRules: true,\n                getRulesFromHostname: true,\n                getRulesFromDOM: false, // Only done on updates (see `onGetCosmeticFiltersUpdated`)\n                callerContext: {\n                    frameId: event.frameId,\n                    processId: event.processId,\n                },\n            });\n            if (active === false) {\n                event.returnValue = null;\n                return;\n            }\n            // Inject custom stylesheets\n            this.injectStyles(event.sender, styles);\n            event.sender.send('get-cosmetic-filters-response', {\n                active,\n                extended,\n                styles: '',\n            });\n            // to execute Inject scripts synchronously, simply return scripts to renderer.\n            event.returnValue = scripts;\n        };\n        this.onGetCosmeticFiltersUpdated = (event, url, msg) => {\n            // Extract hostname from sender's URL\n            const parsed = parse(url);\n            const hostname = parsed.hostname || '';\n            const domain = parsed.domain || '';\n            const { active, styles, extended } = this.getCosmeticsFilters({\n                domain,\n                hostname,\n                url,\n                classes: msg.classes,\n                hrefs: msg.hrefs,\n                ids: msg.ids,\n                // Only done on first load in the frame, disable for updates\n                getBaseRules: false,\n                getInjectionRules: false,\n                getExtendedRules: false,\n                getRulesFromHostname: false,\n                // This will be done every time we get information about DOM mutation\n                getRulesFromDOM: true,\n                callerContext: {\n                    frameId: event.frameId,\n                    processId: event.processId,\n                    lifecycle: msg.lifecycle,\n                },\n            });\n            if (active === false) {\n                return;\n            }\n            // Inject custom stylesheets\n            this.injectStyles(event.sender, styles);\n            // Inject scripts from content script\n            event.sender.send('get-cosmetic-filters-response', {\n                active,\n                extended,\n                styles: '',\n            });\n        };\n        this.onHeadersReceived = (details, callback) => {\n            const CSP_HEADER_NAME = 'content-security-policy';\n            const policies = [];\n            const responseHeaders = details.responseHeaders || {};\n            if (details.resourceType === 'mainFrame' || details.resourceType === 'subFrame') {\n                const rawCSP = this.getCSPDirectives(fromElectronDetails(details));\n                if (rawCSP !== undefined) {\n                    policies.push(...rawCSP.split(';').map((csp) => csp.trim()));\n                    // Collect existing CSP headers from response\n                    for (const [name, values] of Object.entries(responseHeaders)) {\n                        if (name.toLowerCase() === CSP_HEADER_NAME) {\n                            policies.push(...values);\n                            delete responseHeaders[name];\n                        }\n                    }\n                    responseHeaders[CSP_HEADER_NAME] = [policies.join(';')];\n                    callback({ responseHeaders });\n                    return;\n                }\n            }\n            callback({});\n        };\n        this.onBeforeRequest = (details, callback) => {\n            const request = fromElectronDetails(details);\n            if (this.config.guessRequestTypeFromUrl === true && request.type === 'other') {\n                request.guessTypeOfRequest();\n            }\n            if (request.isMainFrame()) {\n                callback({});\n                return;\n            }\n            const { redirect, match } = this.match(request);\n            if (redirect) {\n                callback({ redirectURL: redirect.dataUrl });\n            }\n            else if (match) {\n                callback({ cancel: true });\n            }\n            else {\n                callback({});\n            }\n        };\n    }\n    // ----------------------------------------------------------------------- //\n    // Helpers to enable and disable blocking for 'browser'\n    // ----------------------------------------------------------------------- //\n    enableBlockingInSession(session) {\n        let context = this.contexts.get(session);\n        if (context !== undefined) {\n            return context;\n        }\n        // Create new blocking context for `session`\n        context = new BlockingContext(session, this);\n        this.contexts.set(session, context);\n        context.enable();\n        return context;\n    }\n    disableBlockingInSession(session) {\n        const context = this.contexts.get(session);\n        if (context === undefined) {\n            throw new Error('Trying to disable blocking which was not enabled');\n        }\n        this.contexts.delete(session);\n        context.disable();\n    }\n    isBlockingEnabled(session) {\n        return this.contexts.has(session);\n    }\n    injectStyles(sender, styles) {\n        if (styles.length > 0) {\n            sender.insertCSS(styles, {\n                cssOrigin: 'user',\n            });\n        }\n    }\n}\n// re-export @cliqz/adblocker symbols for convenience\nexport * from '@cliqz/adblocker';\n//# sourceMappingURL=index.js.map"],"names":["PRELOAD_PATH","createRequire","document","location","require","pathToFileURL","__filename","href","_documentCurrentScript","src","URL","baseURI","resolve","ipcMain","electron","fromElectronDetails","details","id","url","resourceType","referrer","webContentsId","Request","fromRawDetails","_originalRequestDetails","requestId","sourceUrl","tabId","type","process","env","BlockingContext","constructor","session","blocker","this","onBeforeRequest","callback","onGetCosmeticFiltersFirst","event","onGetCosmeticFiltersUpdated","msg","onHeadersReceived","onIsMutationObserverEnabled","enable","config","loadCosmeticFilters","setPreloads","getPreloads","concat","on","loadNetworkFilters","webRequest","urls","disable","filter","p","removeListener","ElectronBlocker","FiltersEngine","super","arguments","contexts","WeakMap","returnValue","enableMutationObserver","parsed","parse","hostname","domain","active","styles","scripts","extended","getCosmeticsFilters","getBaseRules","getInjectionRules","getExtendedRules","getRulesFromHostname","getRulesFromDOM","callerContext","frameId","processId","injectStyles","sender","send","classes","hrefs","ids","lifecycle","CSP_HEADER_NAME","policies","responseHeaders","rawCSP","getCSPDirectives","undefined","push","split","map","csp","trim","name","values","Object","entries","toLowerCase","join","request","guessRequestTypeFromUrl","guessTypeOfRequest","isMainFrame","redirect","match","redirectURL","dataUrl","cancel","enableBlockingInSession","context","get","set","disableBlockingInSession","Error","delete","isBlockingEnabled","has","length","insertCSS","cssOrigin"],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"adblocker.umd.min.js","sources":["esm/preload_path.js","esm/index.js"],"sourcesContent":["import { createRequire } from 'node:module';\n//@ts-ignore\nexport const PRELOAD_PATH = createRequire(import.meta.url).resolve('@cliqz/adblocker-electron-preload');\n//# sourceMappingURL=preload_path.js.map","/*!\n * Copyright (c) 2017-present Ghostery GmbH. All rights reserved.\n *\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/.\n */\nimport * as electron from 'electron';\nimport { parse } from 'tldts-experimental';\nimport { FiltersEngine, Request } from '@cliqz/adblocker';\nimport { PRELOAD_PATH } from './preload_path.js';\nconst { ipcMain } = electron;\n// https://stackoverflow.com/questions/48854265/why-do-i-see-an-electron-security-warning-after-updating-my-electron-project-t\nprocess.env['ELECTRON_DISABLE_SECURITY_WARNINGS'] = 'true';\n/**\n * Create an instance of `Request` from `Electron.OnBeforeRequestDetails`.\n */\nexport function fromElectronDetails(details) {\n    const { id, url, resourceType, referrer, webContentsId } = details;\n    return Request.fromRawDetails(webContentsId\n        ? {\n            _originalRequestDetails: details,\n            requestId: `${id}`,\n            sourceUrl: referrer,\n            tabId: webContentsId,\n            type: (resourceType || 'other'),\n            url,\n        }\n        : {\n            _originalRequestDetails: details,\n            requestId: `${id}`,\n            sourceUrl: referrer,\n            type: (resourceType || 'other'),\n            url,\n        });\n}\n/**\n * This abstraction takes care of blocking in one instance of `Electron.Session`.\n */\nexport class BlockingContext {\n    constructor(session, blocker) {\n        this.session = session;\n        this.blocker = blocker;\n        this.onBeforeRequest = (details, callback) => blocker.onBeforeRequest(details, callback);\n        this.onInjectCosmeticFilters = (event, url, msg) => blocker.onInjectCosmeticFilters(event, url, msg);\n        this.onHeadersReceived = (details, callback) => blocker.onHeadersReceived(details, callback);\n        this.onIsMutationObserverEnabled = (event) => blocker.onIsMutationObserverEnabled(event);\n    }\n    enable() {\n        if (this.blocker.config.loadCosmeticFilters === true) {\n            this.session.setPreloads(this.session.getPreloads().concat([PRELOAD_PATH]));\n            ipcMain.handle('@ghostery/adblocker/inject-cosmetic-filters', this.onInjectCosmeticFilters);\n            ipcMain.handle('@ghostery/adblocker/is-mutation-observer-enabled', this.onIsMutationObserverEnabled);\n        }\n        if (this.blocker.config.loadNetworkFilters === true) {\n            this.session.webRequest.onHeadersReceived({ urls: ['<all_urls>'] }, this.onHeadersReceived);\n            this.session.webRequest.onBeforeRequest({ urls: ['<all_urls>'] }, this.onBeforeRequest);\n        }\n    }\n    disable() {\n        if (this.blocker.config.loadNetworkFilters === true) {\n            // NOTE - there is currently no support in Electron for multiple\n            // webRequest listeners registered for the same event. This means that\n            // adblocker's listeners can be overriden by other ones in the same\n            // application (or that the adblocker can override another listener\n            // registered previously). Because of this, the only way to disable the\n            // adblocker is to remove all listeners for the events we are interested\n            // in. In the future, we should consider implementing a webRequest\n            // pipeline allowing to register multiple listeners for the same event.\n            this.session.webRequest.onHeadersReceived(null);\n            this.session.webRequest.onBeforeRequest(null);\n        }\n        if (this.blocker.config.loadCosmeticFilters === true) {\n            this.session.setPreloads(this.session.getPreloads().filter((p) => p !== PRELOAD_PATH));\n            ipcMain.removeHandler('@ghostery/adblocker/inject-cosmetic-filters');\n            ipcMain.removeHandler('@ghostery/adblocker/is-mutation-observer-enabled');\n        }\n    }\n}\n/**\n * Wrap `FiltersEngine` into a Electron-friendly helper class. It exposes\n * methods to interface with Electron APIs needed to block ads.\n */\nexport class ElectronBlocker extends FiltersEngine {\n    constructor() {\n        super(...arguments);\n        this.contexts = new WeakMap();\n        // ----------------------------------------------------------------------- //\n        // ElectronBlocker-specific additions to FiltersEngine\n        // ----------------------------------------------------------------------- //\n        this.onIsMutationObserverEnabled = async (_) => {\n            return this.config.enableMutationObserver;\n        };\n        this.onInjectCosmeticFilters = async (event, url, msg) => {\n            const parsed = parse(url);\n            const hostname = parsed.hostname || '';\n            const domain = parsed.domain || '';\n            // `msg` is undefined for the initial call and present for subsequent updates\n            const isFirstRun = msg === undefined;\n            const { active, styles, scripts } = this.getCosmeticsFilters({\n                domain,\n                hostname,\n                url,\n                // DOM information, only available for updates\n                classes: msg === null || msg === void 0 ? void 0 : msg.classes,\n                hrefs: msg === null || msg === void 0 ? void 0 : msg.hrefs,\n                ids: msg === null || msg === void 0 ? void 0 : msg.ids,\n                // Rules to fetch: true for initial call, false for updates\n                getBaseRules: isFirstRun,\n                getInjectionRules: isFirstRun,\n                getExtendedRules: isFirstRun,\n                getRulesFromHostname: isFirstRun,\n                // Only true for update calls when we have DOM information\n                getRulesFromDOM: !isFirstRun,\n                callerContext: {\n                    frameId: event.frameId,\n                    processId: event.processId,\n                    lifecycle: msg === null || msg === void 0 ? void 0 : msg.lifecycle,\n                },\n            });\n            if (active === false) {\n                return { active: false };\n            }\n            if (styles.length > 0) {\n                try {\n                    await event.sender.insertCSS(styles, { cssOrigin: 'user' });\n                }\n                catch (error) {\n                    return { active: false, error: `CSS insertion failed: ${String(error)}` };\n                }\n            }\n            const scriptResults = await Promise.allSettled(scripts.map((script) => event.sender.executeJavaScript(script, true)));\n            const scriptErrors = scriptResults\n                .filter((result) => result.status === 'rejected')\n                .map((result) => result.reason);\n            if (scriptErrors.length > 0) {\n                return {\n                    active: true,\n                    error: `Some scripts failed to execute: ${scriptErrors.join(', ')}`,\n                };\n            }\n            return { active: true };\n        };\n        this.onHeadersReceived = (details, callback) => {\n            const CSP_HEADER_NAME = 'content-security-policy';\n            const policies = [];\n            const responseHeaders = details.responseHeaders || {};\n            if (details.resourceType === 'mainFrame' || details.resourceType === 'subFrame') {\n                const rawCSP = this.getCSPDirectives(fromElectronDetails(details));\n                if (rawCSP !== undefined) {\n                    policies.push(...rawCSP.split(';').map((csp) => csp.trim()));\n                    // Collect existing CSP headers from response\n                    for (const [name, values] of Object.entries(responseHeaders)) {\n                        if (name.toLowerCase() === CSP_HEADER_NAME) {\n                            policies.push(...values);\n                            delete responseHeaders[name];\n                        }\n                    }\n                    responseHeaders[CSP_HEADER_NAME] = [policies.join(';')];\n                    callback({ responseHeaders });\n                    return;\n                }\n            }\n            callback({});\n        };\n        this.onBeforeRequest = (details, callback) => {\n            const request = fromElectronDetails(details);\n            if (this.config.guessRequestTypeFromUrl === true && request.type === 'other') {\n                request.guessTypeOfRequest();\n            }\n            if (request.isMainFrame()) {\n                callback({});\n                return;\n            }\n            const { redirect, match } = this.match(request);\n            if (redirect) {\n                callback({ redirectURL: redirect.dataUrl });\n            }\n            else if (match) {\n                callback({ cancel: true });\n            }\n            else {\n                callback({});\n            }\n        };\n    }\n    // ----------------------------------------------------------------------- //\n    // Helpers to enable and disable blocking for 'browser'\n    // ----------------------------------------------------------------------- //\n    enableBlockingInSession(session) {\n        let context = this.contexts.get(session);\n        if (context !== undefined) {\n            return context;\n        }\n        // Create new blocking context for `session`\n        context = new BlockingContext(session, this);\n        this.contexts.set(session, context);\n        context.enable();\n        return context;\n    }\n    disableBlockingInSession(session) {\n        const context = this.contexts.get(session);\n        if (context === undefined) {\n            throw new Error('Trying to disable blocking which was not enabled');\n        }\n        this.contexts.delete(session);\n        context.disable();\n    }\n    isBlockingEnabled(session) {\n        return this.contexts.has(session);\n    }\n}\n// re-export @cliqz/adblocker symbols for convenience\nexport * from '@cliqz/adblocker';\n//# sourceMappingURL=index.js.map"],"names":["PRELOAD_PATH","createRequire","document","location","require","pathToFileURL","__filename","href","_documentCurrentScript","src","URL","baseURI","resolve","ipcMain","electron","fromElectronDetails","details","id","url","resourceType","referrer","webContentsId","Request","fromRawDetails","_originalRequestDetails","requestId","sourceUrl","tabId","type","process","env","BlockingContext","constructor","session","blocker","this","onBeforeRequest","callback","onInjectCosmeticFilters","event","msg","onHeadersReceived","onIsMutationObserverEnabled","enable","config","loadCosmeticFilters","setPreloads","getPreloads","concat","handle","loadNetworkFilters","webRequest","urls","disable","filter","p","removeHandler","ElectronBlocker","FiltersEngine","super","arguments","contexts","WeakMap","async","_","enableMutationObserver","parsed","parse","hostname","domain","isFirstRun","undefined","active","styles","scripts","getCosmeticsFilters","classes","hrefs","ids","getBaseRules","getInjectionRules","getExtendedRules","getRulesFromHostname","getRulesFromDOM","callerContext","frameId","processId","lifecycle","length","sender","insertCSS","cssOrigin","error","String","scriptErrors","Promise","allSettled","map","script","executeJavaScript","result","status","reason","join","CSP_HEADER_NAME","policies","responseHeaders","rawCSP","getCSPDirectives","push","split","csp","trim","name","values","Object","entries","toLowerCase","request","guessRequestTypeFromUrl","guessTypeOfRequest","isMainFrame","redirect","match","redirectURL","dataUrl","cancel","enableBlockingInSession","context","get","set","disableBlockingInSession","Error","delete","isBlockingEnabled","has"],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/@cliqz/adblocker-electron/dist/commonjs/index.d.ts b/node_modules/@cliqz/adblocker-electron/dist/commonjs/index.d.ts
index 6838bc8..e474ede 100644
--- a/node_modules/@cliqz/adblocker-electron/dist/commonjs/index.d.ts
+++ b/node_modules/@cliqz/adblocker-electron/dist/commonjs/index.d.ts
@@ -6,7 +6,7 @@
  * file, You can obtain one at https://mozilla.org/MPL/2.0/.
  */
 import { FiltersEngine, Request } from '@cliqz/adblocker';
-import type { IBackgroundCallback } from '@cliqz/adblocker-electron-preload';
+import type { CosmeticFiltersResponse, IBackgroundCallback } from '@cliqz/adblocker-electron-preload';
 /**
  * Create an instance of `Request` from `Electron.OnBeforeRequestDetails`.
  */
@@ -18,8 +18,7 @@ export declare class BlockingContext {
     private readonly session;
     private readonly blocker;
     private readonly onBeforeRequest;
-    private readonly onGetCosmeticFiltersUpdated;
-    private readonly onGetCosmeticFiltersFirst;
+    private readonly onInjectCosmeticFilters;
     private readonly onHeadersReceived;
     private readonly onIsMutationObserverEnabled;
     constructor(session: Electron.Session, blocker: ElectronBlocker);
@@ -35,12 +34,10 @@ export declare class ElectronBlocker extends FiltersEngine {
     enableBlockingInSession(session: Electron.Session): BlockingContext;
     disableBlockingInSession(session: Electron.Session): void;
     isBlockingEnabled(session: Electron.Session): boolean;
-    onIsMutationObserverEnabled: (event: Electron.IpcMainEvent) => void;
-    onGetCosmeticFiltersFirst: (event: Electron.IpcMainEvent, url: string) => void;
-    onGetCosmeticFiltersUpdated: (event: Electron.IpcMainEvent, url: string, msg: IBackgroundCallback) => void;
+    onIsMutationObserverEnabled: (_: Electron.IpcMainInvokeEvent) => Promise<boolean>;
+    onInjectCosmeticFilters: (event: Electron.IpcMainInvokeEvent, url: string, msg?: IBackgroundCallback) => Promise<CosmeticFiltersResponse>;
     onHeadersReceived: (details: Electron.OnHeadersReceivedListenerDetails, callback: (a: Electron.HeadersReceivedResponse) => void) => void;
     onBeforeRequest: (details: Electron.OnBeforeRequestListenerDetails, callback: (a: Electron.CallbackResponse) => void) => void;
-    private injectStyles;
 }
 export * from '@cliqz/adblocker';
 //# sourceMappingURL=index.d.ts.map
\ No newline at end of file
diff --git a/node_modules/@cliqz/adblocker-electron/dist/commonjs/index.d.ts.map b/node_modules/@cliqz/adblocker-electron/dist/commonjs/index.d.ts.map
index d5285ad..67c9337 100644
--- a/node_modules/@cliqz/adblocker-electron/dist/commonjs/index.d.ts.map
+++ b/node_modules/@cliqz/adblocker-electron/dist/commonjs/index.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"index.d.ts","sourceRoot":"","sources":["../../src/index.ts"],"names":[],"mappings":"AAAA;;;;;;GAMG;AAKH,OAAO,EAAuB,aAAa,EAAE,OAAO,EAAE,MAAM,kBAAkB,CAAC;AAC/E,OAAO,KAAK,EACV,mBAAmB,EAEpB,MAAM,mCAAmC,CAAC;AAS3C;;GAEG;AACH,wBAAgB,mBAAmB,CACjC,OAAO,EAAE,QAAQ,CAAC,gCAAgC,GAAG,QAAQ,CAAC,8BAA8B,GAC3F,OAAO,CAoBT;AAED;;GAEG;AACH,qBAAa,eAAe;IAsBxB,OAAO,CAAC,QAAQ,CAAC,OAAO;IACxB,OAAO,CAAC,QAAQ,CAAC,OAAO;IAtB1B,OAAO,CAAC,QAAQ,CAAC,eAAe,CAGtB;IAEV,OAAO,CAAC,QAAQ,CAAC,2BAA2B,CAIlC;IAEV,OAAO,CAAC,QAAQ,CAAC,yBAAyB,CAAsD;IAEhG,OAAO,CAAC,QAAQ,CAAC,iBAAiB,CAGxB;IAEV,OAAO,CAAC,QAAQ,CAAC,2BAA2B,CAAyC;gBAGlE,OAAO,EAAE,QAAQ,CAAC,OAAO,EACzB,OAAO,EAAE,eAAe;IAWpC,MAAM,IAAI,IAAI;IAcd,OAAO,IAAI,IAAI;CAmBvB;AAED;;;GAGG;AACH,qBAAa,eAAgB,SAAQ,aAAa;IAChD,OAAO,CAAC,QAAQ,CAAC,QAAQ,CAA6D;IAM/E,uBAAuB,CAAC,OAAO,EAAE,QAAQ,CAAC,OAAO,GAAG,eAAe;IAcnE,wBAAwB,CAAC,OAAO,EAAE,QAAQ,CAAC,OAAO,GAAG,IAAI;IAUzD,iBAAiB,CAAC,OAAO,EAAE,QAAQ,CAAC,OAAO,GAAG,OAAO;IAQrD,2BAA2B,UAAW,QAAQ,CAAC,YAAY,KAAG,IAAI,CAEvE;IAEK,yBAAyB,UAAW,QAAQ,CAAC,YAAY,OAAO,MAAM,UAwC3E;IAEK,2BAA2B,UACzB,QAAQ,CAAC,YAAY,OACvB,MAAM,OACN,mBAAmB,KACvB,IAAI,CA6CL;IAEK,iBAAiB,YACb,QAAQ,CAAC,gCAAgC,YACxC,CAAC,CAAC,EAAE,QAAQ,CAAC,uBAAuB,KAAK,IAAI,KACtD,IAAI,CA0BL;IAEK,eAAe,YACX,QAAQ,CAAC,8BAA8B,YACtC,CAAC,CAAC,EAAE,QAAQ,CAAC,gBAAgB,KAAK,IAAI,KAC/C,IAAI,CAoBL;IAEF,OAAO,CAAC,YAAY;CAOrB;AAGD,cAAc,kBAAkB,CAAC"}
\ No newline at end of file
+{"version":3,"file":"index.d.ts","sourceRoot":"","sources":["../../src/index.ts"],"names":[],"mappings":"AAAA;;;;;;GAMG;AAKH,OAAO,EAAuB,aAAa,EAAE,OAAO,EAAE,MAAM,kBAAkB,CAAC;AAC/E,OAAO,KAAK,EACV,uBAAuB,EACvB,mBAAmB,EACpB,MAAM,mCAAmC,CAAC;AAS3C;;GAEG;AACH,wBAAgB,mBAAmB,CACjC,OAAO,EAAE,QAAQ,CAAC,gCAAgC,GAAG,QAAQ,CAAC,8BAA8B,GAC3F,OAAO,CAoBT;AAED;;GAEG;AACH,qBAAa,eAAe;IAsBxB,OAAO,CAAC,QAAQ,CAAC,OAAO;IACxB,OAAO,CAAC,QAAQ,CAAC,OAAO;IAtB1B,OAAO,CAAC,QAAQ,CAAC,eAAe,CAGtB;IAEV,OAAO,CAAC,QAAQ,CAAC,uBAAuB,CAIF;IAEtC,OAAO,CAAC,QAAQ,CAAC,iBAAiB,CAGxB;IAEV,OAAO,CAAC,QAAQ,CAAC,2BAA2B,CAEtB;gBAGH,OAAO,EAAE,QAAQ,CAAC,OAAO,EACzB,OAAO,EAAE,eAAe;IAUpC,MAAM,IAAI,IAAI;IAgBd,OAAO,IAAI,IAAI;CAoBvB;AAED;;;GAGG;AACH,qBAAa,eAAgB,SAAQ,aAAa;IAChD,OAAO,CAAC,QAAQ,CAAC,QAAQ,CAA6D;IAM/E,uBAAuB,CAAC,OAAO,EAAE,QAAQ,CAAC,OAAO,GAAG,eAAe;IAcnE,wBAAwB,CAAC,OAAO,EAAE,QAAQ,CAAC,OAAO,GAAG,IAAI;IAUzD,iBAAiB,CAAC,OAAO,EAAE,QAAQ,CAAC,OAAO,GAAG,OAAO;IAQrD,2BAA2B,MAC7B,QAAQ,CAAC,kBAAkB,KAC7B,OAAO,CAAC,OAAO,CAAC,CAEjB;IAEK,uBAAuB,UACrB,QAAQ,CAAC,kBAAkB,OAC7B,MAAM,QACL,mBAAmB,KACxB,OAAO,CAAC,uBAAuB,CAAC,CA6DjC;IAEK,iBAAiB,YACb,QAAQ,CAAC,gCAAgC,YACxC,CAAC,CAAC,EAAE,QAAQ,CAAC,uBAAuB,KAAK,IAAI,KACtD,IAAI,CA0BL;IAEK,eAAe,YACX,QAAQ,CAAC,8BAA8B,YACtC,CAAC,CAAC,EAAE,QAAQ,CAAC,gBAAgB,KAAK,IAAI,KAC/C,IAAI,CAoBL;CACH;AAGD,cAAc,kBAAkB,CAAC"}
\ No newline at end of file
diff --git a/node_modules/@cliqz/adblocker-electron/dist/commonjs/index.js b/node_modules/@cliqz/adblocker-electron/dist/commonjs/index.js
index 8d41d64..7e83a2f 100644
--- a/node_modules/@cliqz/adblocker-electron/dist/commonjs/index.js
+++ b/node_modules/@cliqz/adblocker-electron/dist/commonjs/index.js
@@ -72,17 +72,15 @@ class BlockingContext {
         this.session = session;
         this.blocker = blocker;
         this.onBeforeRequest = (details, callback) => blocker.onBeforeRequest(details, callback);
-        this.onGetCosmeticFiltersFirst = (event, url) => blocker.onGetCosmeticFiltersFirst(event, url);
-        this.onGetCosmeticFiltersUpdated = (event, url, msg) => blocker.onGetCosmeticFiltersUpdated(event, url, msg);
+        this.onInjectCosmeticFilters = (event, url, msg) => blocker.onInjectCosmeticFilters(event, url, msg);
         this.onHeadersReceived = (details, callback) => blocker.onHeadersReceived(details, callback);
         this.onIsMutationObserverEnabled = (event) => blocker.onIsMutationObserverEnabled(event);
     }
     enable() {
         if (this.blocker.config.loadCosmeticFilters === true) {
             this.session.setPreloads(this.session.getPreloads().concat([preload_path_js_1.PRELOAD_PATH]));
-            ipcMain.on('get-cosmetic-filters-first', this.onGetCosmeticFiltersFirst);
-            ipcMain.on('get-cosmetic-filters', this.onGetCosmeticFiltersUpdated);
-            ipcMain.on('is-mutation-observer-enabled', this.onIsMutationObserverEnabled);
+            ipcMain.handle('@ghostery/adblocker/inject-cosmetic-filters', this.onInjectCosmeticFilters);
+            ipcMain.handle('@ghostery/adblocker/is-mutation-observer-enabled', this.onIsMutationObserverEnabled);
         }
         if (this.blocker.config.loadNetworkFilters === true) {
             this.session.webRequest.onHeadersReceived({ urls: ['<all_urls>'] }, this.onHeadersReceived);
@@ -104,7 +102,8 @@ class BlockingContext {
         }
         if (this.blocker.config.loadCosmeticFilters === true) {
             this.session.setPreloads(this.session.getPreloads().filter((p) => p !== preload_path_js_1.PRELOAD_PATH));
-            ipcMain.removeListener('get-cosmetic-filters', this.onGetCosmeticFiltersUpdated);
+            ipcMain.removeHandler('@ghostery/adblocker/inject-cosmetic-filters');
+            ipcMain.removeHandler('@ghostery/adblocker/is-mutation-observer-enabled');
         }
     }
 }
@@ -120,79 +119,58 @@ class ElectronBlocker extends adblocker_1.FiltersEngine {
         // ----------------------------------------------------------------------- //
         // ElectronBlocker-specific additions to FiltersEngine
         // ----------------------------------------------------------------------- //
-        this.onIsMutationObserverEnabled = (event) => {
-            event.returnValue = this.config.enableMutationObserver;
+        this.onIsMutationObserverEnabled = async (_) => {
+            return this.config.enableMutationObserver;
         };
-        this.onGetCosmeticFiltersFirst = (event, url) => {
-            // Extract hostname from sender's URL
+        this.onInjectCosmeticFilters = async (event, url, msg) => {
             const parsed = (0, tldts_experimental_1.parse)(url);
             const hostname = parsed.hostname || '';
             const domain = parsed.domain || '';
-            const { active, styles, scripts, extended } = this.getCosmeticsFilters({
+            // `msg` is undefined for the initial call and present for subsequent updates
+            const isFirstRun = msg === undefined;
+            const { active, styles, scripts } = this.getCosmeticsFilters({
                 domain,
                 hostname,
                 url,
-                // This needs to be done only once per frame
-                getBaseRules: true,
-                getInjectionRules: true,
-                getExtendedRules: true,
-                getRulesFromHostname: true,
-                getRulesFromDOM: false, // Only done on updates (see `onGetCosmeticFiltersUpdated`)
+                // DOM information, only available for updates
+                classes: msg === null || msg === void 0 ? void 0 : msg.classes,
+                hrefs: msg === null || msg === void 0 ? void 0 : msg.hrefs,
+                ids: msg === null || msg === void 0 ? void 0 : msg.ids,
+                // Rules to fetch: true for initial call, false for updates
+                getBaseRules: isFirstRun,
+                getInjectionRules: isFirstRun,
+                getExtendedRules: isFirstRun,
+                getRulesFromHostname: isFirstRun,
+                // Only true for update calls when we have DOM information
+                getRulesFromDOM: !isFirstRun,
                 callerContext: {
                     frameId: event.frameId,
                     processId: event.processId,
+                    lifecycle: msg === null || msg === void 0 ? void 0 : msg.lifecycle,
                 },
             });
             if (active === false) {
-                event.returnValue = null;
-                return;
+                return { active: false };
             }
-            // Inject custom stylesheets
-            this.injectStyles(event.sender, styles);
-            event.sender.send('get-cosmetic-filters-response', {
-                active,
-                extended,
-                styles: '',
-            });
-            // to execute Inject scripts synchronously, simply return scripts to renderer.
-            event.returnValue = scripts;
-        };
-        this.onGetCosmeticFiltersUpdated = (event, url, msg) => {
-            // Extract hostname from sender's URL
-            const parsed = (0, tldts_experimental_1.parse)(url);
-            const hostname = parsed.hostname || '';
-            const domain = parsed.domain || '';
-            const { active, styles, extended } = this.getCosmeticsFilters({
-                domain,
-                hostname,
-                url,
-                classes: msg.classes,
-                hrefs: msg.hrefs,
-                ids: msg.ids,
-                // Only done on first load in the frame, disable for updates
-                getBaseRules: false,
-                getInjectionRules: false,
-                getExtendedRules: false,
-                getRulesFromHostname: false,
-                // This will be done every time we get information about DOM mutation
-                getRulesFromDOM: true,
-                callerContext: {
-                    frameId: event.frameId,
-                    processId: event.processId,
-                    lifecycle: msg.lifecycle,
-                },
-            });
-            if (active === false) {
-                return;
+            if (styles.length > 0) {
+                try {
+                    await event.sender.insertCSS(styles, { cssOrigin: 'user' });
+                }
+                catch (error) {
+                    return { active: false, error: `CSS insertion failed: ${String(error)}` };
+                }
             }
-            // Inject custom stylesheets
-            this.injectStyles(event.sender, styles);
-            // Inject scripts from content script
-            event.sender.send('get-cosmetic-filters-response', {
-                active,
-                extended,
-                styles: '',
-            });
+            const scriptResults = await Promise.allSettled(scripts.map((script) => event.sender.executeJavaScript(script, true)));
+            const scriptErrors = scriptResults
+                .filter((result) => result.status === 'rejected')
+                .map((result) => result.reason);
+            if (scriptErrors.length > 0) {
+                return {
+                    active: true,
+                    error: `Some scripts failed to execute: ${scriptErrors.join(', ')}`,
+                };
+            }
+            return { active: true };
         };
         this.onHeadersReceived = (details, callback) => {
             const CSP_HEADER_NAME = 'content-security-policy';
@@ -262,13 +240,6 @@ class ElectronBlocker extends adblocker_1.FiltersEngine {
     isBlockingEnabled(session) {
         return this.contexts.has(session);
     }
-    injectStyles(sender, styles) {
-        if (styles.length > 0) {
-            sender.insertCSS(styles, {
-                cssOrigin: 'user',
-            });
-        }
-    }
 }
 exports.ElectronBlocker = ElectronBlocker;
 // re-export @cliqz/adblocker symbols for convenience
diff --git a/node_modules/@cliqz/adblocker-electron/dist/commonjs/index.js.map b/node_modules/@cliqz/adblocker-electron/dist/commonjs/index.js.map
index 9daca95..8a640df 100644
--- a/node_modules/@cliqz/adblocker-electron/dist/commonjs/index.js.map
+++ b/node_modules/@cliqz/adblocker-electron/dist/commonjs/index.js.map
@@ -1 +1 @@
-{"version":3,"file":"index.js","sourceRoot":"","sources":["../../src/index.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"index.js","sourceRoot":"","sources":["../../src/index.ts"],"names":[],"mappings":";AAAA;;;;;;GAMG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqBH,kDAsBC;AAzCD,mDAAqC;AACrC,2DAA2C;AAE3C,gDAA+E;AAM/E,uDAAiD;AAEjD,MAAM,EAAE,OAAO,EAAE,GAAG,QAAQ,CAAC;AAE7B,8HAA8H;AAC9H,OAAO,CAAC,GAAG,CAAC,oCAAoC,CAAC,GAAG,MAAM,CAAC;AAE3D;;GAEG;AACH,SAAgB,mBAAmB,CACjC,OAA4F;IAE5F,MAAM,EAAE,EAAE,EAAE,GAAG,EAAE,YAAY,EAAE,QAAQ,EAAE,aAAa,EAAE,GAAG,OAAO,CAAC;IACnE,OAAO,mBAAO,CAAC,cAAc,CAC3B,aAAa;QACX,CAAC,CAAC;YACE,uBAAuB,EAAE,OAAO;YAChC,SAAS,EAAE,GAAG,EAAE,EAAE;YAClB,SAAS,EAAE,QAAQ;YACnB,KAAK,EAAE,aAAa;YACpB,IAAI,EAAE,CAAC,YAAY,IAAI,OAAO,CAAwB;YACtD,GAAG;SACJ;QACH,CAAC,CAAC;YACE,uBAAuB,EAAE,OAAO;YAChC,SAAS,EAAE,GAAG,EAAE,EAAE;YAClB,SAAS,EAAE,QAAQ;YACnB,IAAI,EAAE,CAAC,YAAY,IAAI,OAAO,CAAwB;YACtD,GAAG;SACJ,CACN,CAAC;AACJ,CAAC;AAED;;GAEG;AACH,MAAa,eAAe;IAqB1B,YACmB,OAAyB,EACzB,OAAwB;QADxB,YAAO,GAAP,OAAO,CAAkB;QACzB,YAAO,GAAP,OAAO,CAAiB;QAEzC,IAAI,CAAC,eAAe,GAAG,CAAC,OAAO,EAAE,QAAQ,EAAE,EAAE,CAAC,OAAO,CAAC,eAAe,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;QAEzF,IAAI,CAAC,uBAAuB,GAAG,CAAC,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,CACjD,OAAO,CAAC,uBAAuB,CAAC,KAAK,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;QACnD,IAAI,CAAC,iBAAiB,GAAG,CAAC,OAAO,EAAE,QAAQ,EAAE,EAAE,CAAC,OAAO,CAAC,iBAAiB,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;QAC7F,IAAI,CAAC,2BAA2B,GAAG,CAAC,KAAK,EAAE,EAAE,CAAC,OAAO,CAAC,2BAA2B,CAAC,KAAK,CAAC,CAAC;IAC3F,CAAC;IAEM,MAAM;QACX,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,mBAAmB,KAAK,IAAI,EAAE,CAAC;YACrD,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,CAAC,MAAM,CAAC,CAAC,8BAAY,CAAC,CAAC,CAAC,CAAC;YAC5E,OAAO,CAAC,MAAM,CAAC,6CAA6C,EAAE,IAAI,CAAC,uBAAuB,CAAC,CAAC;YAC5F,OAAO,CAAC,MAAM,CACZ,kDAAkD,EAClD,IAAI,CAAC,2BAA2B,CACjC,CAAC;QACJ,CAAC;QAED,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,kBAAkB,KAAK,IAAI,EAAE,CAAC;YACpD,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,iBAAiB,CAAC,EAAE,IAAI,EAAE,CAAC,YAAY,CAAC,EAAE,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC;YAC5F,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,eAAe,CAAC,EAAE,IAAI,EAAE,CAAC,YAAY,CAAC,EAAE,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;QAC1F,CAAC;IACH,CAAC;IAEM,OAAO;QACZ,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,kBAAkB,KAAK,IAAI,EAAE,CAAC;YACpD,gEAAgE;YAChE,sEAAsE;YACtE,mEAAmE;YACnE,mEAAmE;YACnE,uEAAuE;YACvE,wEAAwE;YACxE,kEAAkE;YAClE,uEAAuE;YACvE,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC;YAChD,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;QAChD,CAAC;QAED,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,mBAAmB,KAAK,IAAI,EAAE,CAAC;YACrD,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,KAAK,8BAAY,CAAC,CAAC,CAAC;YACvF,OAAO,CAAC,aAAa,CAAC,6CAA6C,CAAC,CAAC;YACrE,OAAO,CAAC,aAAa,CAAC,kDAAkD,CAAC,CAAC;QAC5E,CAAC;IACH,CAAC;CACF;AArED,0CAqEC;AAED;;;GAGG;AACH,MAAa,eAAgB,SAAQ,yBAAa;IAAlD;;QACmB,aAAQ,GAA+C,IAAI,OAAO,EAAE,CAAC;QAkCtF,6EAA6E;QAC7E,sDAAsD;QACtD,6EAA6E;QAEtE,gCAA2B,GAAG,KAAK,EACxC,CAA8B,EACZ,EAAE;YACpB,OAAO,IAAI,CAAC,MAAM,CAAC,sBAAsB,CAAC;QAC5C,CAAC,CAAC;QAEK,4BAAuB,GAAG,KAAK,EACpC,KAAkC,EAClC,GAAW,EACX,GAAyB,EACS,EAAE;YACpC,MAAM,MAAM,GAAG,IAAA,0BAAK,EAAC,GAAG,CAAC,CAAC;YAC1B,MAAM,QAAQ,GAAG,MAAM,CAAC,QAAQ,IAAI,EAAE,CAAC;YACvC,MAAM,MAAM,GAAG,MAAM,CAAC,MAAM,IAAI,EAAE,CAAC;YAEnC,6EAA6E;YAC7E,MAAM,UAAU,GAAG,GAAG,KAAK,SAAS,CAAC;YAErC,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,GAAG,IAAI,CAAC,mBAAmB,CAAC;gBAC3D,MAAM;gBACN,QAAQ;gBACR,GAAG;gBAEH,8CAA8C;gBAC9C,OAAO,EAAE,GAAG,aAAH,GAAG,uBAAH,GAAG,CAAE,OAAO;gBACrB,KAAK,EAAE,GAAG,aAAH,GAAG,uBAAH,GAAG,CAAE,KAAK;gBACjB,GAAG,EAAE,GAAG,aAAH,GAAG,uBAAH,GAAG,CAAE,GAAG;gBAEb,2DAA2D;gBAC3D,YAAY,EAAE,UAAU;gBACxB,iBAAiB,EAAE,UAAU;gBAC7B,gBAAgB,EAAE,UAAU;gBAC5B,oBAAoB,EAAE,UAAU;gBAEhC,0DAA0D;gBAC1D,eAAe,EAAE,CAAC,UAAU;gBAE5B,aAAa,EAAE;oBACb,OAAO,EAAE,KAAK,CAAC,OAAO;oBACtB,SAAS,EAAE,KAAK,CAAC,SAAS;oBAC1B,SAAS,EAAE,GAAG,aAAH,GAAG,uBAAH,GAAG,CAAE,SAAS;iBAC1B;aACF,CAAC,CAAC;YAEH,IAAI,MAAM,KAAK,KAAK,EAAE,CAAC;gBACrB,OAAO,EAAE,MAAM,EAAE,KAAK,EAAE,CAAC;YAC3B,CAAC;YAED,IAAI,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;gBACtB,IAAI,CAAC;oBACH,MAAM,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC,MAAM,EAAE,EAAE,SAAS,EAAE,MAAM,EAAE,CAAC,CAAC;gBAC9D,CAAC;gBAAC,OAAO,KAAK,EAAE,CAAC;oBACf,OAAO,EAAE,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,yBAAyB,MAAM,CAAC,KAAK,CAAC,EAAE,EAAE,CAAC;gBAC5E,CAAC;YACH,CAAC;YAED,MAAM,aAAa,GAAG,MAAM,OAAO,CAAC,UAAU,CAC5C,OAAO,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,EAAE,CAAC,KAAK,CAAC,MAAM,CAAC,iBAAiB,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC,CACtE,CAAC;YACF,MAAM,YAAY,GAAG,aAAa;iBAC/B,MAAM,CAAC,CAAC,MAAM,EAAE,EAAE,CAAC,MAAM,CAAC,MAAM,KAAK,UAAU,CAAC;iBAChD,GAAG,CAAC,CAAC,MAAM,EAAE,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;YAElC,IAAI,YAAY,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;gBAC5B,OAAO;oBACL,MAAM,EAAE,IAAI;oBACZ,KAAK,EAAE,mCAAmC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;iBACpE,CAAC;YACJ,CAAC;YAED,OAAO,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;QAC1B,CAAC,CAAC;QAEK,sBAAiB,GAAG,CACzB,OAAkD,EAClD,QAAuD,EACjD,EAAE;YACR,MAAM,eAAe,GAAG,yBAAyB,CAAC;YAClD,MAAM,QAAQ,GAAa,EAAE,CAAC;YAC9B,MAAM,eAAe,GAA6B,OAAO,CAAC,eAAe,IAAI,EAAE,CAAC;YAEhF,IAAI,OAAO,CAAC,YAAY,KAAK,WAAW,IAAI,OAAO,CAAC,YAAY,KAAK,UAAU,EAAE,CAAC;gBAChF,MAAM,MAAM,GAAuB,IAAI,CAAC,gBAAgB,CAAC,mBAAmB,CAAC,OAAO,CAAC,CAAC,CAAC;gBACvF,IAAI,MAAM,KAAK,SAAS,EAAE,CAAC;oBACzB,QAAQ,CAAC,IAAI,CAAC,GAAG,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;oBAE7D,6CAA6C;oBAC7C,KAAK,MAAM,CAAC,IAAI,EAAE,MAAM,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,eAAe,CAAC,EAAE,CAAC;wBAC7D,IAAI,IAAI,CAAC,WAAW,EAAE,KAAK,eAAe,EAAE,CAAC;4BAC3C,QAAQ,CAAC,IAAI,CAAC,GAAG,MAAM,CAAC,CAAC;4BACzB,OAAO,eAAe,CAAC,IAAI,CAAC,CAAC;wBAC/B,CAAC;oBACH,CAAC;oBAED,eAAe,CAAC,eAAe,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;oBAExD,QAAQ,CAAC,EAAE,eAAe,EAAE,CAAC,CAAC;oBAC9B,OAAO;gBACT,CAAC;YACH,CAAC;YAED,QAAQ,CAAC,EAAE,CAAC,CAAC;QACf,CAAC,CAAC;QAEK,oBAAe,GAAG,CACvB,OAAgD,EAChD,QAAgD,EAC1C,EAAE;YACR,MAAM,OAAO,GAAG,mBAAmB,CAAC,OAAO,CAAC,CAAC;YAC7C,IAAI,IAAI,CAAC,MAAM,CAAC,uBAAuB,KAAK,IAAI,IAAI,OAAO,CAAC,IAAI,KAAK,OAAO,EAAE,CAAC;gBAC7E,OAAO,CAAC,kBAAkB,EAAE,CAAC;YAC/B,CAAC;YAED,IAAI,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC;gBAC1B,QAAQ,CAAC,EAAE,CAAC,CAAC;gBACb,OAAO;YACT,CAAC;YAED,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;YAEhD,IAAI,QAAQ,EAAE,CAAC;gBACb,QAAQ,CAAC,EAAE,WAAW,EAAE,QAAQ,CAAC,OAAO,EAAE,CAAC,CAAC;YAC9C,CAAC;iBAAM,IAAI,KAAK,EAAE,CAAC;gBACjB,QAAQ,CAAC,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,CAAC;YAC7B,CAAC;iBAAM,CAAC;gBACN,QAAQ,CAAC,EAAE,CAAC,CAAC;YACf,CAAC;QACH,CAAC,CAAC;IACJ,CAAC;IApKC,6EAA6E;IAC7E,uDAAuD;IACvD,6EAA6E;IAEtE,uBAAuB,CAAC,OAAyB;QACtD,IAAI,OAAO,GAAgC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;QACtE,IAAI,OAAO,KAAK,SAAS,EAAE,CAAC;YAC1B,OAAO,OAAO,CAAC;QACjB,CAAC;QAED,4CAA4C;QAC5C,OAAO,GAAG,IAAI,eAAe,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;QAC7C,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;QACpC,OAAO,CAAC,MAAM,EAAE,CAAC;QAEjB,OAAO,OAAO,CAAC;IACjB,CAAC;IAEM,wBAAwB,CAAC,OAAyB;QACvD,MAAM,OAAO,GAAgC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;QACxE,IAAI,OAAO,KAAK,SAAS,EAAE,CAAC;YAC1B,MAAM,IAAI,KAAK,CAAC,kDAAkD,CAAC,CAAC;QACtE,CAAC;QAED,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;QAC9B,OAAO,CAAC,OAAO,EAAE,CAAC;IACpB,CAAC;IAEM,iBAAiB,CAAC,OAAyB;QAChD,OAAO,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;IACpC,CAAC;CAsIF;AAvKD,0CAuKC;AAED,qDAAqD;AACrD,mDAAiC"}
\ No newline at end of file
diff --git a/node_modules/@cliqz/adblocker-electron/dist/esm/index.d.ts b/node_modules/@cliqz/adblocker-electron/dist/esm/index.d.ts
index 6838bc8..e474ede 100644
--- a/node_modules/@cliqz/adblocker-electron/dist/esm/index.d.ts
+++ b/node_modules/@cliqz/adblocker-electron/dist/esm/index.d.ts
@@ -6,7 +6,7 @@
  * file, You can obtain one at https://mozilla.org/MPL/2.0/.
  */
 import { FiltersEngine, Request } from '@cliqz/adblocker';
-import type { IBackgroundCallback } from '@cliqz/adblocker-electron-preload';
+import type { CosmeticFiltersResponse, IBackgroundCallback } from '@cliqz/adblocker-electron-preload';
 /**
  * Create an instance of `Request` from `Electron.OnBeforeRequestDetails`.
  */
@@ -18,8 +18,7 @@ export declare class BlockingContext {
     private readonly session;
     private readonly blocker;
     private readonly onBeforeRequest;
-    private readonly onGetCosmeticFiltersUpdated;
-    private readonly onGetCosmeticFiltersFirst;
+    private readonly onInjectCosmeticFilters;
     private readonly onHeadersReceived;
     private readonly onIsMutationObserverEnabled;
     constructor(session: Electron.Session, blocker: ElectronBlocker);
@@ -35,12 +34,10 @@ export declare class ElectronBlocker extends FiltersEngine {
     enableBlockingInSession(session: Electron.Session): BlockingContext;
     disableBlockingInSession(session: Electron.Session): void;
     isBlockingEnabled(session: Electron.Session): boolean;
-    onIsMutationObserverEnabled: (event: Electron.IpcMainEvent) => void;
-    onGetCosmeticFiltersFirst: (event: Electron.IpcMainEvent, url: string) => void;
-    onGetCosmeticFiltersUpdated: (event: Electron.IpcMainEvent, url: string, msg: IBackgroundCallback) => void;
+    onIsMutationObserverEnabled: (_: Electron.IpcMainInvokeEvent) => Promise<boolean>;
+    onInjectCosmeticFilters: (event: Electron.IpcMainInvokeEvent, url: string, msg?: IBackgroundCallback) => Promise<CosmeticFiltersResponse>;
     onHeadersReceived: (details: Electron.OnHeadersReceivedListenerDetails, callback: (a: Electron.HeadersReceivedResponse) => void) => void;
     onBeforeRequest: (details: Electron.OnBeforeRequestListenerDetails, callback: (a: Electron.CallbackResponse) => void) => void;
-    private injectStyles;
 }
 export * from '@cliqz/adblocker';
 //# sourceMappingURL=index.d.ts.map
\ No newline at end of file
diff --git a/node_modules/@cliqz/adblocker-electron/dist/esm/index.d.ts.map b/node_modules/@cliqz/adblocker-electron/dist/esm/index.d.ts.map
index d5285ad..67c9337 100644
--- a/node_modules/@cliqz/adblocker-electron/dist/esm/index.d.ts.map
+++ b/node_modules/@cliqz/adblocker-electron/dist/esm/index.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"index.d.ts","sourceRoot":"","sources":["../../src/index.ts"],"names":[],"mappings":"AAAA;;;;;;GAMG;AAKH,OAAO,EAAuB,aAAa,EAAE,OAAO,EAAE,MAAM,kBAAkB,CAAC;AAC/E,OAAO,KAAK,EACV,mBAAmB,EAEpB,MAAM,mCAAmC,CAAC;AAS3C;;GAEG;AACH,wBAAgB,mBAAmB,CACjC,OAAO,EAAE,QAAQ,CAAC,gCAAgC,GAAG,QAAQ,CAAC,8BAA8B,GAC3F,OAAO,CAoBT;AAED;;GAEG;AACH,qBAAa,eAAe;IAsBxB,OAAO,CAAC,QAAQ,CAAC,OAAO;IACxB,OAAO,CAAC,QAAQ,CAAC,OAAO;IAtB1B,OAAO,CAAC,QAAQ,CAAC,eAAe,CAGtB;IAEV,OAAO,CAAC,QAAQ,CAAC,2BAA2B,CAIlC;IAEV,OAAO,CAAC,QAAQ,CAAC,yBAAyB,CAAsD;IAEhG,OAAO,CAAC,QAAQ,CAAC,iBAAiB,CAGxB;IAEV,OAAO,CAAC,QAAQ,CAAC,2BAA2B,CAAyC;gBAGlE,OAAO,EAAE,QAAQ,CAAC,OAAO,EACzB,OAAO,EAAE,eAAe;IAWpC,MAAM,IAAI,IAAI;IAcd,OAAO,IAAI,IAAI;CAmBvB;AAED;;;GAGG;AACH,qBAAa,eAAgB,SAAQ,aAAa;IAChD,OAAO,CAAC,QAAQ,CAAC,QAAQ,CAA6D;IAM/E,uBAAuB,CAAC,OAAO,EAAE,QAAQ,CAAC,OAAO,GAAG,eAAe;IAcnE,wBAAwB,CAAC,OAAO,EAAE,QAAQ,CAAC,OAAO,GAAG,IAAI;IAUzD,iBAAiB,CAAC,OAAO,EAAE,QAAQ,CAAC,OAAO,GAAG,OAAO;IAQrD,2BAA2B,UAAW,QAAQ,CAAC,YAAY,KAAG,IAAI,CAEvE;IAEK,yBAAyB,UAAW,QAAQ,CAAC,YAAY,OAAO,MAAM,UAwC3E;IAEK,2BAA2B,UACzB,QAAQ,CAAC,YAAY,OACvB,MAAM,OACN,mBAAmB,KACvB,IAAI,CA6CL;IAEK,iBAAiB,YACb,QAAQ,CAAC,gCAAgC,YACxC,CAAC,CAAC,EAAE,QAAQ,CAAC,uBAAuB,KAAK,IAAI,KACtD,IAAI,CA0BL;IAEK,eAAe,YACX,QAAQ,CAAC,8BAA8B,YACtC,CAAC,CAAC,EAAE,QAAQ,CAAC,gBAAgB,KAAK,IAAI,KAC/C,IAAI,CAoBL;IAEF,OAAO,CAAC,YAAY;CAOrB;AAGD,cAAc,kBAAkB,CAAC"}
\ No newline at end of file
+{"version":3,"file":"index.d.ts","sourceRoot":"","sources":["../../src/index.ts"],"names":[],"mappings":"AAAA;;;;;;GAMG;AAKH,OAAO,EAAuB,aAAa,EAAE,OAAO,EAAE,MAAM,kBAAkB,CAAC;AAC/E,OAAO,KAAK,EACV,uBAAuB,EACvB,mBAAmB,EACpB,MAAM,mCAAmC,CAAC;AAS3C;;GAEG;AACH,wBAAgB,mBAAmB,CACjC,OAAO,EAAE,QAAQ,CAAC,gCAAgC,GAAG,QAAQ,CAAC,8BAA8B,GAC3F,OAAO,CAoBT;AAED;;GAEG;AACH,qBAAa,eAAe;IAsBxB,OAAO,CAAC,QAAQ,CAAC,OAAO;IACxB,OAAO,CAAC,QAAQ,CAAC,OAAO;IAtB1B,OAAO,CAAC,QAAQ,CAAC,eAAe,CAGtB;IAEV,OAAO,CAAC,QAAQ,CAAC,uBAAuB,CAIF;IAEtC,OAAO,CAAC,QAAQ,CAAC,iBAAiB,CAGxB;IAEV,OAAO,CAAC,QAAQ,CAAC,2BAA2B,CAEtB;gBAGH,OAAO,EAAE,QAAQ,CAAC,OAAO,EACzB,OAAO,EAAE,eAAe;IAUpC,MAAM,IAAI,IAAI;IAgBd,OAAO,IAAI,IAAI;CAoBvB;AAED;;;GAGG;AACH,qBAAa,eAAgB,SAAQ,aAAa;IAChD,OAAO,CAAC,QAAQ,CAAC,QAAQ,CAA6D;IAM/E,uBAAuB,CAAC,OAAO,EAAE,QAAQ,CAAC,OAAO,GAAG,eAAe;IAcnE,wBAAwB,CAAC,OAAO,EAAE,QAAQ,CAAC,OAAO,GAAG,IAAI;IAUzD,iBAAiB,CAAC,OAAO,EAAE,QAAQ,CAAC,OAAO,GAAG,OAAO;IAQrD,2BAA2B,MAC7B,QAAQ,CAAC,kBAAkB,KAC7B,OAAO,CAAC,OAAO,CAAC,CAEjB;IAEK,uBAAuB,UACrB,QAAQ,CAAC,kBAAkB,OAC7B,MAAM,QACL,mBAAmB,KACxB,OAAO,CAAC,uBAAuB,CAAC,CA6DjC;IAEK,iBAAiB,YACb,QAAQ,CAAC,gCAAgC,YACxC,CAAC,CAAC,EAAE,QAAQ,CAAC,uBAAuB,KAAK,IAAI,KACtD,IAAI,CA0BL;IAEK,eAAe,YACX,QAAQ,CAAC,8BAA8B,YACtC,CAAC,CAAC,EAAE,QAAQ,CAAC,gBAAgB,KAAK,IAAI,KAC/C,IAAI,CAoBL;CACH;AAGD,cAAc,kBAAkB,CAAC"}
\ No newline at end of file
diff --git a/node_modules/@cliqz/adblocker-electron/dist/esm/index.js b/node_modules/@cliqz/adblocker-electron/dist/esm/index.js
index 5bf5827..20c93f1 100644
--- a/node_modules/@cliqz/adblocker-electron/dist/esm/index.js
+++ b/node_modules/@cliqz/adblocker-electron/dist/esm/index.js
@@ -42,17 +42,15 @@ export class BlockingContext {
         this.session = session;
         this.blocker = blocker;
         this.onBeforeRequest = (details, callback) => blocker.onBeforeRequest(details, callback);
-        this.onGetCosmeticFiltersFirst = (event, url) => blocker.onGetCosmeticFiltersFirst(event, url);
-        this.onGetCosmeticFiltersUpdated = (event, url, msg) => blocker.onGetCosmeticFiltersUpdated(event, url, msg);
+        this.onInjectCosmeticFilters = (event, url, msg) => blocker.onInjectCosmeticFilters(event, url, msg);
         this.onHeadersReceived = (details, callback) => blocker.onHeadersReceived(details, callback);
         this.onIsMutationObserverEnabled = (event) => blocker.onIsMutationObserverEnabled(event);
     }
     enable() {
         if (this.blocker.config.loadCosmeticFilters === true) {
             this.session.setPreloads(this.session.getPreloads().concat([PRELOAD_PATH]));
-            ipcMain.on('get-cosmetic-filters-first', this.onGetCosmeticFiltersFirst);
-            ipcMain.on('get-cosmetic-filters', this.onGetCosmeticFiltersUpdated);
-            ipcMain.on('is-mutation-observer-enabled', this.onIsMutationObserverEnabled);
+            ipcMain.handle('@ghostery/adblocker/inject-cosmetic-filters', this.onInjectCosmeticFilters);
+            ipcMain.handle('@ghostery/adblocker/is-mutation-observer-enabled', this.onIsMutationObserverEnabled);
         }
         if (this.blocker.config.loadNetworkFilters === true) {
             this.session.webRequest.onHeadersReceived({ urls: ['<all_urls>'] }, this.onHeadersReceived);
@@ -74,7 +72,8 @@ export class BlockingContext {
         }
         if (this.blocker.config.loadCosmeticFilters === true) {
             this.session.setPreloads(this.session.getPreloads().filter((p) => p !== PRELOAD_PATH));
-            ipcMain.removeListener('get-cosmetic-filters', this.onGetCosmeticFiltersUpdated);
+            ipcMain.removeHandler('@ghostery/adblocker/inject-cosmetic-filters');
+            ipcMain.removeHandler('@ghostery/adblocker/is-mutation-observer-enabled');
         }
     }
 }
@@ -89,79 +88,58 @@ export class ElectronBlocker extends FiltersEngine {
         // ----------------------------------------------------------------------- //
         // ElectronBlocker-specific additions to FiltersEngine
         // ----------------------------------------------------------------------- //
-        this.onIsMutationObserverEnabled = (event) => {
-            event.returnValue = this.config.enableMutationObserver;
+        this.onIsMutationObserverEnabled = async (_) => {
+            return this.config.enableMutationObserver;
         };
-        this.onGetCosmeticFiltersFirst = (event, url) => {
-            // Extract hostname from sender's URL
+        this.onInjectCosmeticFilters = async (event, url, msg) => {
             const parsed = parse(url);
             const hostname = parsed.hostname || '';
             const domain = parsed.domain || '';
-            const { active, styles, scripts, extended } = this.getCosmeticsFilters({
+            // `msg` is undefined for the initial call and present for subsequent updates
+            const isFirstRun = msg === undefined;
+            const { active, styles, scripts } = this.getCosmeticsFilters({
                 domain,
                 hostname,
                 url,
-                // This needs to be done only once per frame
-                getBaseRules: true,
-                getInjectionRules: true,
-                getExtendedRules: true,
-                getRulesFromHostname: true,
-                getRulesFromDOM: false, // Only done on updates (see `onGetCosmeticFiltersUpdated`)
+                // DOM information, only available for updates
+                classes: msg === null || msg === void 0 ? void 0 : msg.classes,
+                hrefs: msg === null || msg === void 0 ? void 0 : msg.hrefs,
+                ids: msg === null || msg === void 0 ? void 0 : msg.ids,
+                // Rules to fetch: true for initial call, false for updates
+                getBaseRules: isFirstRun,
+                getInjectionRules: isFirstRun,
+                getExtendedRules: isFirstRun,
+                getRulesFromHostname: isFirstRun,
+                // Only true for update calls when we have DOM information
+                getRulesFromDOM: !isFirstRun,
                 callerContext: {
                     frameId: event.frameId,
                     processId: event.processId,
+                    lifecycle: msg === null || msg === void 0 ? void 0 : msg.lifecycle,
                 },
             });
             if (active === false) {
-                event.returnValue = null;
-                return;
+                return { active: false };
             }
-            // Inject custom stylesheets
-            this.injectStyles(event.sender, styles);
-            event.sender.send('get-cosmetic-filters-response', {
-                active,
-                extended,
-                styles: '',
-            });
-            // to execute Inject scripts synchronously, simply return scripts to renderer.
-            event.returnValue = scripts;
-        };
-        this.onGetCosmeticFiltersUpdated = (event, url, msg) => {
-            // Extract hostname from sender's URL
-            const parsed = parse(url);
-            const hostname = parsed.hostname || '';
-            const domain = parsed.domain || '';
-            const { active, styles, extended } = this.getCosmeticsFilters({
-                domain,
-                hostname,
-                url,
-                classes: msg.classes,
-                hrefs: msg.hrefs,
-                ids: msg.ids,
-                // Only done on first load in the frame, disable for updates
-                getBaseRules: false,
-                getInjectionRules: false,
-                getExtendedRules: false,
-                getRulesFromHostname: false,
-                // This will be done every time we get information about DOM mutation
-                getRulesFromDOM: true,
-                callerContext: {
-                    frameId: event.frameId,
-                    processId: event.processId,
-                    lifecycle: msg.lifecycle,
-                },
-            });
-            if (active === false) {
-                return;
+            if (styles.length > 0) {
+                try {
+                    await event.sender.insertCSS(styles, { cssOrigin: 'user' });
+                }
+                catch (error) {
+                    return { active: false, error: `CSS insertion failed: ${String(error)}` };
+                }
             }
-            // Inject custom stylesheets
-            this.injectStyles(event.sender, styles);
-            // Inject scripts from content script
-            event.sender.send('get-cosmetic-filters-response', {
-                active,
-                extended,
-                styles: '',
-            });
+            const scriptResults = await Promise.allSettled(scripts.map((script) => event.sender.executeJavaScript(script, true)));
+            const scriptErrors = scriptResults
+                .filter((result) => result.status === 'rejected')
+                .map((result) => result.reason);
+            if (scriptErrors.length > 0) {
+                return {
+                    active: true,
+                    error: `Some scripts failed to execute: ${scriptErrors.join(', ')}`,
+                };
+            }
+            return { active: true };
         };
         this.onHeadersReceived = (details, callback) => {
             const CSP_HEADER_NAME = 'content-security-policy';
@@ -231,13 +209,6 @@ export class ElectronBlocker extends FiltersEngine {
     isBlockingEnabled(session) {
         return this.contexts.has(session);
     }
-    injectStyles(sender, styles) {
-        if (styles.length > 0) {
-            sender.insertCSS(styles, {
-                cssOrigin: 'user',
-            });
-        }
-    }
 }
 // re-export @cliqz/adblocker symbols for convenience
 export * from '@cliqz/adblocker';
diff --git a/node_modules/@cliqz/adblocker-electron/dist/esm/index.js.map b/node_modules/@cliqz/adblocker-electron/dist/esm/index.js.map
index 7db2c0f..537642b 100644
--- a/node_modules/@cliqz/adblocker-electron/dist/esm/index.js.map
+++ b/node_modules/@cliqz/adblocker-electron/dist/esm/index.js.map
@@ -1 +1 @@
-{"version":3,"file":"index.js","sourceRoot":"","sources":["../../src/index.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"index.js","sourceRoot":"","sources":["../../src/index.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
